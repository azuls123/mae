<div class="col-lg-12 row">
  <div class="col-md-6 offset-md-3 mb-3">
    <div widget class="card border-0 box-shadow">
      <div class="card-header transparent border-0 text-muted">
        <h5 class="mb-0">
          Formulario de Salvoconduto
        </h5>
        <div class="widget-controls">
          <a data-widgster="expand" href="#" class="transition"><i class="fa fa-chevron-down"></i></a>
          <a data-widgster="collapse" href="#" class="transition"><i class="fa fa-chevron-up"></i></a>
          <a data-widgster="fullscreen" href="#" class="transition"><i class="fa fa-expand"></i></a>
          <a data-widgster="restore" href="#" class="transition"><i class="fa fa-compress"></i></a>
          <!-- <a data-widgster="close" href="#" class="transition"><i class="fa fa-times"></i></a> -->
        </div>
      </div>
      <div class="card-body widget-body bg-light">
        <form class="row p-2">
          <label for="" class="col-md-12 text-center">
            <strong>MINISTERIO DEL AMBIENTE</strong>
          </label>
          <label for="" class="col-md-12 text-center">
            Dirección Provincial del Ambiente de Pastaza
            <br>
            Puyo - Ecuador
          </label>
          <label for="" class="col-md-8 text-center">
            Orden de Movilización para circulación de Vehículos Institucionales
          </label>
          <label for="" class="col-md-4 text-right mb-3">
            <strong>Número: </strong> Aun sin Registrar.
          </label>
          <label for="" class="col-md-12 text-center">
            Emisión de la Orden
          </label>
          <span class="col-md-6">
            <p class="pb-0 mb-0">Lugar:</p>
            <input type="text" class="form-control" #EmisionLugar id="EmisionLugar" name="EmisionLugar"
              [(ngModel)]="newSalvoConducto.Emision.Lugar">
            <!-- <textarea name="" id="" cols="1" rows="1" class="form-control" placeholder="Lugar"> </textarea> -->
          </span>
          <span class="col-md-6 mb-3">
            <p class="pb-0 mb-0">Fecha y Hora:</p>
            <input type="datetime-local" class="form-control" #EmisionFecha id="EmisionFecha" name="EmisionFecha"
              [(ngModel)]="newSalvoConducto.Emision.Fecha">
          </span>
          <label for="" class="col-md-12 text-center">
            Motivo de la Movilización
          </label>
          <span class="col-md-12 mb-3">
            <input type="text" class="form-control" #Motivo id="Motivo" name="Motivo"
              [(ngModel)]="newSalvoConducto.Motivo">
          </span>

          <!-- division izquierda -->
          <div class="col-md-6 ">
            <label for="" class="col-md-12 mb-3">
              <p class="pb-0 mb-0">Lugar de Origen:</p>
              <input type="text" class="form-control" #LugarOrigen id="LugarOrigen" name="LugarOrigen"
                [(ngModel)]="newSalvoConducto.Lugar.Origen">
            </label>
            <label class="col-md-12 mb-3">
              <p class="pb-0 mb-0">Fecha de Salida:</p>
              <input type="datetime-local" class="form-control" #FechaSalida id="FechaSalida" name="FechaSalida"
                [(ngModel)]="newSalvoConducto.Fecha.Salida">
            </label>
          </div>
          <!-- division derecha -->
          <div class="col-md-6 ">
            <label for="" class="col-md-12 mb-3">
              <p class="pb-0 mb-0">Lugar de Destino:</p>
              <input type="text" class="form-control" #LugarDestino id="LugarDestino" name="LugarDestino"
                [(ngModel)]="newSalvoConducto.Lugar.Destino">
            </label>
            <label for="" class="col-md-12 mb-3">
              <p class="pb-0 mb-0">Fecha de Estimada de Regreso:</p>
              <input type="datetime-local" class="form-control" #FechaIngreso id="FechaIngreso" name="FechaIngreso"
                [(ngModel)]="newSalvoConducto.Fecha.Estimada">
            </label>
            <!-- <label for="" class="col-md-12 mb-3"></label> -->
          </div>
          <label for="" class="col-md-12 mb-3">
            <p class="pb-0 mb-0">Conductor:</p>
            <table *ngIf="SelectedEmpleado" class="table table-sm table-bordered col-12">
              <thead>
                <tr>
                  <th>Cédula</th>
                  <th>Nombres</th>
                  <th>Área</th>
                  <th>Teléfono</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>{{SelectedEmpleado.Ci}}</td>
                  <td>{{SelectedEmpleado.Nombres + ' ' + SelectedEmpleado.Apellidos}}</td>
                  <td>{{SelectedEmpleado.Area}}</td>
                  <td>{{SelectedEmpleado.Telefono}}</td>
                </tr>
              </tbody>
            </table>
            <button class="btn btn-block" *ngIf="Empleados && Empleados.length >= 1" data-toggle="modal"
              [class.btn-info]="!SelectedEmpleado" [class.btn-success]="SelectedEmpleado" data-target="#empleado-modal">
              <span *ngIf="!SelectedEmpleado">
                Seleccionar Conductor
              </span>
              <span *ngIf="SelectedEmpleado"> Cambiar Conductor
              </span>
            </button>
            <button class="btn btn-block btn-warning" *ngIf="!Empleados || !(Empleados.length >= 1)">
              No hay Conductores En el Sistema
            </button>
          </label>
          <!--  vehículo -->
          <label for="" class="col-md-12 mb-3">
            <p class="mb-0 pb-0">Vehículo</p>
            <table *ngIf="SelectedVehiculo" class="table col-12 table-bordered table-sm">
              <thead>
                <tr>
                  <th>Marca</th>
                  <th>Placa</th>
                  <th>Color</th>
                  <th>Matrícula</th>
                  <th>Kilometraje</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    {{SelectedVehiculo.Marca}}
                  </td>
                  <td>
                    {{SelectedVehiculo.Placa}}
                  </td>
                  <td>
                    {{SelectedVehiculo.Color}}
                  </td>
                  <td>
                    {{SelectedVehiculo.Matricula}}
                  </td>
                  <td>
                    {{newSalvoConducto.KmInicial}}
                    <!-- <input type="number" min="{{SelectedVehiculo.Recorrido}}" #KmInicial id="KmInicial" name="KmInicial"
                      [(ngModel)]="newSalvoConducto.KmInicial" class="form-control"> -->
                  </td>
                </tr>
              </tbody>
            </table>
            <button class="btn btn-block" data-toggle="modal" [class.btn-info]="!SelectedVehiculo"
              [class.btn-success]="SelectedVehiculo" data-target="#vehiculo-modal">
              <span *ngIf="!SelectedVehiculo">
                Seleccionar Vehículo
              </span>
              <span *ngIf="SelectedVehiculo">
                Cambiar de Vehículo
              </span>
            </button>
          </label>
          <label for="" class="col-md-12 mb-3">
            <p><strong>Observaciones</strong></p>
            <p>NOTA: Cualquier Autoridad o Policía de Transito podrá detener los vehículos del Estado que no porten esta
              ORDEN DE CIRCULACIÓN y que no se encuentren dentro del sector Autorizado.</p>
            <br>
            <br>
            <hr class="bg-black">
            <p class="text-center">AUTORIZADO DIRECTOR PROVINCIAL</p>
          </label>
          <div class="col-12">
            <button class="btn btn-danger pull-left"
              (click)="initNewSalvoConducto(); SelectedEmpleado = null; SelectedVehiculo = null">
              <i class="fa fa-eraser"></i>
              Limpiar
            </button>
            <button class="btn btn-success pull-right" data-target="#confirm-modal" data-toggle="modal">
              <i class="fa fa-save"></i>
              Guadar
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
  <div class="col-md-12">
    <div widget class="card border-0 box-shadow">
      <div class="card-header transparent border-0 text-muted">
        <h5 class="mb-0">
          Registro de Movilización
        </h5>
        <div class="widget-controls">
          <a data-widgster="expand" href="#" class="transition"><i class="fa fa-chevron-down"></i></a>
          <a data-widgster="collapse" href="#" class="transition"><i class="fa fa-chevron-up"></i></a>
          <a data-widgster="fullscreen" href="#" class="transition"><i class="fa fa-expand"></i></a>
          <a data-widgster="restore" href="#" class="transition"><i class="fa fa-compress"></i></a>
          <!-- <a data-widgster="close" href="#" class="transition"><i class="fa fa-times"></i></a> -->
        </div>
      </div>
      <div class="card-body widget-body bg-light">
        <div class="container row">
          <div class="input-group mb-2 col-md-4">
            <div class="input-group-prepend">
              <span class="input-group-text bg-transparent border-0">
                <i class="fa fa-search ml-2 mr-1"></i>
              </span>
              <input class="form-control border-0 col-12" type="text" id=searchTextSalvo name=searchTextSalvo
                (change)="defineSalvo();" (keyup)="defineSalvo();" [(ngModel)]="searchTextSalvo"
                placeholder="{{searchTitleSalvo}}">
              <div class="btn-group">
                <button type="button" class="btn dropdown-toggle no-caret bg-transparent border-0 box-shadow-none"
                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <i class="fa fa-ellipsis-v"></i>
                </button>
                <div class="dropdown-menu dropdown-menu-right box-shadow rounded-0">
                  <a class="dropdown-item" href="javascript:void(0);"
                    (click)="typeSalvo = 'todo'; defineSalvo();">Todo</a>
                  <a class="dropdown-item" href="javascript:void(0);"
                    (click)="typeSalvo = 'numero'; defineSalvo();">Número de Salvo</a>
                  <a class="dropdown-item" href="javascript:void(0);"
                    (click)="typeSalvo = 'motivo'; defineSalvo();">Motivo</a>
                  <a class="dropdown-item" href="javascript:void(0);"
                    (click)="typeSalvo = 'placas'; defineSalvo();">Placas de Vehículo</a>
                  <a class="dropdown-item" href="javascript:void(0);"
                    (click)="typeSalvo = 'destino'; defineSalvo();">Destino</a>
                  <a class="dropdown-item" href="javascript:void(0);"
                    (click)="typeSalvo = 'estado'; defineSalvo();">Estado del Salvo</a>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-3 input-group">
            <label for="fechaInicio" class="label-form mr-2">Inicio: </label>
            <input type="date" (change)="setDate()" class="form-control" id="fechaInicio" name="fechaInicio"
              #fechaInicio [(ngModel)]="FechaInicio">
          </div>
          <div class="col-md-3 input-group">
            <label for="fechaFin" class="label-form mr-2">Fin: </label>
            <input type="date" (change)="setDate()" class="form-control" id="fechaFin" name="fechaFin" #fechaFin
              [(ngModel)]="FechaFin">
          </div>
          <div class="col-md-2">
            <button class="btn btn-block btn-success" (click)="Salvoconductos = BufferSalvoconductos;">
              <i class="fa fa-eye"></i>
              Ver Todo
            </button>
          </div>
        </div>
        <div class="row container">
          <hr class="col-12">
        </div>
        <table class="table table-bordered table-hover responsive-sm table-sm table-striped">
          <thead>
            <tr>
              <th class="text-center p-1" rowspan="2">Fecha</th>
              <th class="text-center p-1" rowspan="2">Motivo</th>
              <th class="text-center p-1" colspan="2">Hora</th>
              <th class="text-center p-1" colspan="6">Datos del Vehículo</th>
              <th class="text-center p-1" rowspan="2">Conductor</th>
              <th class="text-center p-1" rowspan="2">Estado</th>
            </tr>
            <tr>
              <th class="text-center p-1">Salida</th>
              <th class="text-center p-1">Regreso</th>
              <th class="text-center p-1">Vehículo</th>
              <th class="text-center p-1">Placas</th>
              <th class="text-center p-1">Km Inicio</th>
              <th class="text-center p-1">Km Fin</th>
              <th class="text-center p-1">Destino</th>
              <th class="text-center p-1">No.</th>
            </tr>
          </thead>
          <tbody>
            <tr class="selectable" *ngFor="let salvo of Salvoconductos" (click)="viewedSalvo = salvo"
              data-toggle="modal" data-target="#info-modal">
              <td> {{salvo.Emision.Fecha | date: 'medium'}} </td>
              <td> {{salvo.Motivo}} </td>
              <td> {{salvo.Fecha.Salida | date : 'medium'}} </td>
              <td> {{salvo.Fecha.Estimada | date : 'medium'}} </td>
              <td> {{salvo.Vehiculo.Marca + ' ' + salvo.Vehiculo.Modelo }} </td>
              <td> {{salvo.Vehiculo.Placa}} </td>
              <td> {{salvo.KmInicial}} </td>
              <td>
                <ng-container *ngIf="salvo.Recorrido >= 1; else elseTemplate">
                  {{salvo.Recorrido + salvo.KmInicial}}
                </ng-container>
                <ng-template #elseTemplate>
                  0
                </ng-template>
              </td>
              <td> {{salvo.Lugar.Destino}} </td>
              <td> {{salvo.Numero}} </td>
              <td> {{salvo.Conductor.Nombres + ' ' + salvo.Conductor.Apellidos + ' - ' + salvo.Conductor.Ci}} </td>
              <td> <span class="font-weight-bold" [class.text-primary]="salvo.Estado == 'Procesado'" [class.text-danger]="salvo.Estado == 'Cancelado'"[class.text-warning]="salvo.Estado == 'Aprobado'" [class.text-success]="salvo.Estado == 'Completado'">{{salvo.Estado}}</span> </td>
            </tr>
          </tbody>
        </table>
        <pagination-controls id="Salvoconducto" maxSize="3" directionLinks="true" autoHide="true" responsive="true"
          previousLabel="Atrás" nextLabel="Siguiente" screenReaderPaginationLabel="Pagination"
          screenReaderPageLabel="page" screenReaderCurrentLabel="You're on page"
          (pageBoundsCorrection)="paginationDataSalvo.currentPage = $event"
          (pageChange)="paginationDataSalvo.currentPage = $event"></pagination-controls>
      </div>
    </div>
  </div>
</div>

<!-- Modals -->
<!-- Modals -->
<!-- Modals -->
<!-- Modals -->


<div class="modal fade" id="info-modal" *ngIf="viewedSalvo" tabindex="-1" role="dialog"
  aria-labelledby="modal-info-label">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header state modal-info">
        <h4 class="modal-title" id="modal-info-label"><i class="fa fa-car"></i>
          Salvoconducto No. {{viewedSalvo.Numero}} <span  [class.text-danger]="viewedSalvo.Estado == 'Procesado'" [class.text-danger]="viewedSalvo.Estado == 'Cancelado'"[class.text-warning]="viewedSalvo.Estado == 'Aprobado'" [class.text-success]="viewedSalvo.Estado == 'Completado'">{{viewedSalvo.Estado}}</span> </h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
            aria-hidden="true">×</span></button>
      </div>
      <div class="modal-body">

        <form class="row p-2">
          <label for="" class="col-md-12 text-center">
            <strong>MINISTERIO DEL AMBIENTE</strong>
          </label>
          <label for="" class="col-md-12 text-center">
            Dirección Provincial del Ambiente de Pastaza
            <br>
            Puyo - Ecuador
          </label>
          <label for="" class="col-md-8 text-center">
            Orden de Movilización para circulación de Vehículos Institucionales
          </label>
          <label for="" class="col-md-4 text-right mb-3">
            <strong>Número: </strong> {{viewedSalvo.Numero}}.
          </label>
          <label for="" class="col-md-12 text-center">
            <strong>Emisión de la Orden</strong>
          </label>
          <span class="col-md-6">
            <p class="pb-0 mb-0"><strong>Lugar:</strong></p>

            {{viewedSalvo.Emision.Lugar}}

            <!-- <textarea name="" id="" cols="1" rows="1" class="form-control" placeholder="Lugar"> </textarea> -->
          </span>
          <span class="col-md-6 mb-3">
            <p class="pb-0 mb-0"><strong>Fecha y Hora:</strong></p>
            {{viewedSalvo.Emision.Fecha | date: 'medium'}}

          </span>
          <label for="" class="col-md-12 text-center">
            <strong>Motivo de la Movilización</strong>
          </label>
          <span class="col-md-12 mb-3">
            {{viewedSalvo.Motivo}}
          </span>

          <!-- division izquierda -->
          <div class="col-md-6 ">
            <label for="" class="col-md-12 mb-3">
              <p class="pb-0 mb-0"><strong>Lugar de Origen:</strong></p>
              {{viewedSalvo.Lugar.Origen}}

            </label>
            <label class="col-md-12 mb-3">
              <p class="pb-0 mb-0"><strong>Fecha de Salida:</strong></p>
              {{viewedSalvo.Fecha.Salida | date: 'medium'}}
            </label>
          </div>
          <!-- division derecha -->
          <div class="col-md-6 ">
            <label for="" class="col-md-12 mb-3">
              <p class="pb-0 mb-0"><strong>Lugar de Destino:</strong></p>
              {{viewedSalvo.Lugar.Destino}}
            </label>
            <label for="" class="col-md-12 mb-3">
              <p class="pb-0 mb-0"><strong>Fecha Estimada de Regreso:</strong></p>
              {{viewedSalvo.Fecha.Estimada | date: 'medium'}}
            </label>
            <!-- <label for="" class="col-md-12 mb-3"></label> -->
          </div>
          <label for="" class="col-md-12 mb-3">
            Estado: <span>{{viewedSalvo.Estado}}.</span>
          </label>
          <label  *ngIf="viewedSalvo.Estado == 'Aprobado' || viewedSalvo.Estado == 'Completado'" for="" class="col-md-12 mb-3">
            <span class="input-group">
              <div class="input-group-prepend border-0 bg-transparent pl-0">
                <span class="bg-transparent border-0 input-group-text pl-0">
                Fecha de Regreso:&nbsp; 
                <span *ngIf="viewedSalvo.Estado == 'Completado'">
                  {{viewedSalvo.Fecha.Regreso | date: 'medium'}}
                </span>
                </span>
              </div>
              <input *ngIf="viewedSalvo.Estado == 'Aprobado'" type="datetime-local" class="form-control" #regreso id="regreso" name="regreso"
                [(ngModel)]="viewedSalvo.Fecha.Regreso">
            </span>
          </label>
          <label for="" class="col-md-12 mb-3">
            <p class="pb-0 mb-0"><strong>Conductor:</strong></p>
            <table class="table table-sm table-bordered col-12 table-striped">
              <thead>
                <tr>
                  <th>Cédula</th>
                  <th>Nombres</th>
                  <th>Área</th>
                  <th>Teléfono</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>{{viewedSalvo.Conductor.Ci}}</td>
                  <td>{{viewedSalvo.Conductor.Nombres + ' ' + viewedSalvo.Conductor.Apellidos}}</td>
                  <td>{{viewedSalvo.Conductor.Area}}</td>
                  <td>{{viewedSalvo.Conductor.Telefono}}</td>
                </tr>
              </tbody>
            </table>
          </label>
          <!--  vehículo -->
          <label for="" class="col-md-12 mb-3">
            <p class="mb-0 pb-0"><strong>Vehículo:</strong></p>
            <table class="table col-12 table-bordered table-sm table-striped">
              <thead>
                <tr>
                  <th>Marca</th>
                  <th>Placa</th>
                  <th>Color</th>
                  <th>Matrícula</th>
                  <th>Km Inicial</th>
                  <th width="10%">Recorrido</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    {{viewedSalvo.Vehiculo.Marca}}
                  </td>
                  <td>
                    {{viewedSalvo.Vehiculo.Placa}}
                  </td>
                  <td>
                    {{viewedSalvo.Vehiculo.Color}}
                  </td>
                  <td>
                    {{viewedSalvo.Vehiculo.Matricula}}
                  </td>
                  <td>
                    {{viewedSalvo.KmInicial}} Km
                  </td>
                  <td>
                    <ng-container *ngIf="viewedSalvo.Estado == 'Procesado' && viewedSalvo.Estado == 'Cancelado' ; else ShowRecorrido">
                      <ng-container *ngIf="viewedSalvo.Estado == 'Procesado'; else Canceled">
                        Aun Por Aprobar
                      </ng-container>
                      <ng-template #Canceled>
                        Cancelado
                      </ng-template>
                    </ng-container>
                    <ng-template #ShowRecorrido>
                      <ng-container *ngIf="viewedSalvo.Estado == 'Completado'; else elseTemplate">
                        {{viewedSalvo.Recorrido | number}} Km                        
                      </ng-container>
                      <ng-template #elseTemplate>
                        <div class="input-group">
                          <input type="number" class="form-control text-right" id="Recorrido" name="Recorrido" min="1" #Recorrido [(ngModel)]="viewedSalvo.Recorrido" >
                          <div class="input-group-append pl-0 pr-0">
                            <div class="input-group-text border-0 bg-transparent pl-0 pr-0">
                              &nbsp;Km.
                            </div>
                          </div>
                        </div>
                      </ng-template>
                    </ng-template>
                  </td>
                </tr>
              </tbody>
            </table>
          </label>
          <label for="" class="col-md-12 mb-3">
            <p><strong>Observaciones</strong></p>
            <p>NOTA: Cualquier Autoridad o Policía de Transito podrá detener los vehículos del Estado que no porten esta
              ORDEN DE CIRCULACIÓN y que no se encuentren dentro del sector Autorizado.</p>
            <br>
            <br>
            <hr *ngIf="viewedSalvo.Estado == 'Aprobado' || viewedSalvo.Estado == 'Completado'" class="bg-black">
            <p  *ngIf="viewedSalvo.Estado == 'Aprobado' || viewedSalvo.Estado == 'Completado'" class="text-center">AUTORIZADO DIRECTOR PROVINCIAL</p>
          </label>
        </form>
      </div>
      <div class="modal-footer">
        <div class="col-12">
          <!-- <button class="btn btn-success pull-left" data-dismiss="modal" aria-label="Close"
          (click)="">
          <i class="fa fa-edit"></i>
          Editar el Vehiculo
        </button> -->
          <button class="btn btn-danger pull-left" data-dismiss="modal" aria-label="Close">
            <i class="fa fa-times"></i>
            &nbsp;
            Cerrar
          </button>
          <button class="btn btn-success pull-right" *ngIf="viewedSalvo.Estado == 'Procesado'" (click)="viewedSalvo.Estado = 'Aprobado'; newSalvoConducto = viewedSalvo; onUpdate()">
            <i class="fas fa-check-circle"></i> Aprobar SalvoConducto 
          </button>
          <button class="btn btn-success pull-right" *ngIf="viewedSalvo.Estado == 'Aprobado'" (click)="viewedSalvo.Estado = 'Completado'; newSalvoConducto = viewedSalvo; onUpdate(); viewedSalvo.Vehiculo.Recorrido = (viewedSalvo.Vehiculo.Recorrido + viewedSalvo.Recorrido); updateVehiculo(viewedSalvo.Vehiculo)">
            <i class="fas fa-check-circle"></i> Completar SalvoConducto 
          </button>
          <button class="btn btn-info pull-right" *ngIf="viewedSalvo.Estado == 'Aprobado' || viewedSalvo.Estado == 'Completado'" (click)="getDetailPdf(viewedSalvo)">
            <i class="fas fa-file-pdf"></i> Generar Reporte
          </button>
        </div>
        <!-- <button type="button" class="btn btn-danger" data-dismiss="modal">Cerrar</button> -->
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="empleado-modal" *ngIf="Empleados && Empleados.length >= 1" tabindex="-1" role="dialog"
  aria-labelledby="modal-info-label">
  <div class="modal-dialog " role="document">
    <div class="modal-content">
      <div class="modal-header state modal-info">
        <h4 class="modal-title" id="modal-info-label"><i class="fa fa-car"></i>
          Selección de Conductor</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
            aria-hidden="true">×</span></button>
      </div>
      <div class="modal-body">
        <div class="input-group mb-2">
          <div class="input-group-prepend">
            <span class="input-group-text bg-transparent border-0">
              <i class="fa fa-search ml-2 mr-1"></i>
            </span>
            <input class="form-control border-0" type="text" id=searchTextEmpleado name=searchTextEmpleado
              (change)="defineEmpleado();" (keyup)="defineEmpleado();" [(ngModel)]="searchTextEmpleado"
              placeholder="{{searchTitleEmpleado}}">
            <div class="btn-group">
              <button typeEmpleado="button" class="btn dropdown-toggle no-caret bg-transparent border-0 box-shadow-none"
                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="fa fa-ellipsis-v"></i>
              </button>
              <div class="dropdown-menu dropdown-menu-right box-shadow rounded-0">
                <a class="dropdown-item" href="javascript:void(0);"
                  (click)="typeEmpleado = 'todo'; defineEmpleado();">Todo</a>
                <a class="dropdown-item" href="javascript:void(0);"
                  (click)="typeEmpleado = 'telefono'; defineEmpleado();">Tel&eacute;fono</a>
                <a class="dropdown-item" href="javascript:void(0);"
                  (click)="typeEmpleado = 'nombres'; defineEmpleado();">Nombres</a>
                <a class="dropdown-item" href="javascript:void(0);"
                  (click)="typeEmpleado = 'apellidos'; defineEmpleado();">Apellidos</a>
                <a class="dropdown-item" href="javascript:void(0);"
                  (click)="typeEmpleado = 'cedula'; defineEmpleado();">C&eacute;dula</a>
                <a class="dropdown-item" href="javascript:void(0);"
                  (click)="typeEmpleado = 'cargo'; defineEmpleado();">Cargo</a>
                <a class="dropdown-item" href="javascript:void(0);"
                  (click)="typeEmpleado = 'area'; defineEmpleado();">Area</a>
              </div>
            </div>
          </div>
        </div>
        <table *ngIf="Empleados && Empleados.length >=1"
          class="table table-responsive-sm table-striped table-sm table-bordered table-hover" data-toggle="modal"
          data-target="#info-modal">
          <thead>
            <tr>
              <th class="p-0"></th>
              <th>
                Cédula
              </th>
              <th>
                Nombres
              </th>
              <th>
                Cargo
              </th>
              <th>
                Area
              </th>
              <th>
                Teléfono
              </th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let empleado of Empleados | paginate: paginationDataEmpleados" class="selectable"
              (click)="SelectedEmpleado = empleado; newSalvoConducto.Conductor = empleado._id"
              [class.bg-success-ligth]="SelectedEmpleado && SelectedEmpleado._id == empleado._id" data-dismiss="modal"
              aria-label="Close">
              <td class="p-0">
                <i *ngIf="!SelectedEmpleado || SelectedEmpleado._id != empleado._id"
                  class="far fa-square text-info"></i>
                <i *ngIf="SelectedEmpleado && SelectedEmpleado._id == empleado._id"
                  class="far fa-check-square text-success"></i>
              </td>
              <td>
                {{empleado.Ci}}
              </td>
              <td>
                {{empleado.Nombres + ' ' + empleado.Apellidos}}
              </td>
              <td>
                {{empleado.Cargo}}
              </td>
              <td>
                {{empleado.Area}}
              </td>
              <td>
                {{empleado.Telefono}}
              </td>
            </tr>
          </tbody>
        </table>
        <pagination-controls id="Empleado" maxSize="3" directionLinks="true" autoHide="true" responsive="true"
          previousLabel="Atrás" nextLabel="Siguiente" screenReaderPaginationLabel="Pagination"
          screenReaderPageLabel="page" screenReaderCurrentLabel="You're on page"
          (pageBoundsCorrection)="paginationDataEmpleados.currentPage = $event"
          (pageChange)="paginationDataEmpleados.currentPage = $event"></pagination-controls>

        <div *ngIf="!Empleados || Empleados.length < 1" role="alert" class="alert alert-dismissible fade show"
          [class.alert-danger]="searchTextEmpleado == ''" [class.alert-warning]="searchTextEmpleado != ''">
          <button type="button" data-dismiss="alert" aria-label="Close" class="close">
            <span aria-hidden="true">×</span>
          </button>
          <span *ngIf="searchTextEmpleado != ''">
            <strong>Sin Resultados!</strong> Al parecer la Busqueda no ha devuelto ningún resultado
          </span>
          <span *ngIf="searchTextEmpleado == ''">
            <strong>Sin Empleados!</strong> Al parecer no se han Registrado Empleados en el Sistema o hubo un Error en
            el Servidor
          </span>
        </div>
      </div>
      <div class="modal-footer">
        <div class="col-12">
          <!-- <button class="btn btn-success pull-left" data-dismiss="modal" aria-label="Close"
          (click)="">
          <i class="fa fa-edit"></i>
          Editar el Vehiculo
        </button> -->

          <button class="btn btn-danger pull-right" data-dismiss="modal" aria-label="Close">
            <i class="fa fa-times"></i>
            &nbsp;
            Cerrar
          </button>
        </div>
        <!-- <button type="button" class="btn btn-danger" data-dismiss="modal">Cerrar</button> -->
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="vehiculo-modal" *ngIf="vehiculos && vehiculos.length >= 1" tabindex="-1" role="dialog"
  aria-labelledby="modal-info-label">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header state modal-info">
        <h4 class="modal-title" id="modal-info-label"><i class="fa fa-car"></i>
          Selección de Vehículo</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
            aria-hidden="true">×</span></button>
      </div>
      <div class="modal-body">

        <div class="input-group mb-2">
          <div class="input-group-prepend">
            <span class="input-group-text bg-transparent border-0">
              <i class="fa fa-search ml-2 mr-1"></i>
            </span>
            <input class="form-control border-0" type="text" id=searchTextVehiculo name=searchTextVehiculo
              (change)="defineVehiculo();" (keyup)="defineVehiculo();" [(ngModel)]="searchTextVehiculo"
              placeholder="{{searchTitleVehiculo}}">
            <div class="btn-group">
              <button type="button" class="btn dropdown-toggle no-caret bg-transparent border-0 box-shadow-none"
                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="fa fa-ellipsis-v"></i>
              </button>
              <div class="dropdown-menu dropdown-menu-right box-shadow rounded-0">
                <a class="dropdown-item" href="javascript:void(0);"
                  (click)="typeVehiculo = 'todo'; defineVehiculo();">Todo</a>
                <a class="dropdown-item" href="javascript:void(0);"
                  (click)="typeVehiculo = 'caracteristicas'; defineVehiculo();">Características</a>
                <a class="dropdown-item" href="javascript:void(0);"
                  (click)="typeVehiculo = 'marca'; defineVehiculo();">Marca</a>
                <a class="dropdown-item" href="javascript:void(0);"
                  (click)="typeVehiculo = 'anio'; defineVehiculo();">Año</a>
                <a class="dropdown-item" href="javascript:void(0);"
                  (click)="typeVehiculo = 'clase'; defineVehiculo();">Clase</a>
                <a class="dropdown-item" href="javascript:void(0);"
                  (click)="typeVehiculo = 'llantas'; defineVehiculo();">Llantas</a>
                <a class="dropdown-item" href="javascript:void(0);"
                  (click)="typeVehiculo = 'placa'; defineVehiculo();">Placa</a>
                <a class="dropdown-item" href="javascript:void(0);"
                  (click)="typeVehiculo = 'matricula'; defineVehiculo();">Matrícula</a>
                <a class="dropdown-item" href="javascript:void(0);"
                  (click)="typeVehiculo = 'color'; defineVehiculo();">Color</a>
                <a class="dropdown-item" href="javascript:void(0);"
                  (click)="typeVehiculo = 'costo'; defineVehiculo();">Costo</a>
              </div>
            </div>
          </div>
        </div>
        <table class="table table-hover border-2 table-responsive table-sm table-bordered">
          <thead>
            <tr>
              <th class="p-0"></th>
              <th>Marca</th>
              <th>Modelo</th>
              <th>Año</th>
              <th>Clase</th>
              <th>Llantas</th>
              <th>Placa</th>
              <th>Color</th>
              <th>Matrícula</th>
              <th>Costo</th>
            </tr>
          </thead>
          <tbody *ngIf="vehiculos">
            <tr *ngFor="let vehiculo of vehiculos | paginate: paginationDataVehiculo" class="selectable"
              [class.bg-deleted]="!vehiculo.Activo"
              [class.bg-success-ligth]="SelectedVehiculo && SelectedVehiculo._id == vehiculo._id"
              (click)="SelectedVehiculo = vehiculo; newSalvoConducto.Vehiculo = vehiculo._id; newSalvoConducto.KmInicial = vehiculo.Recorrido"
              data-dismiss="modal" aria-label="Close">
              <td class="p-0">
                <i *ngIf="!SelectedVehiculo || SelectedVehiculo._id != vehiculo._id"
                  class="far fa-square text-info"></i>
                <i *ngIf="SelectedVehiculo && SelectedVehiculo._id == vehiculo._id"
                  class="far fa-check-square text-success"></i>
              </td>
              <td>{{vehiculo.Marca}}</td>
              <td>{{vehiculo.Modelo}}</td>
              <td>{{vehiculo.Anio}}</td>
              <td>{{vehiculo.Clase}}</td>
              <td>{{vehiculo.Llantas}}</td>
              <td>{{vehiculo.Placa}}</td>
              <td>{{vehiculo.Color}}</td>
              <td>{{vehiculo.Matricula}}</td>
              <td class="text-right">{{vehiculo.Costo | currency}}</td>
            </tr>
          </tbody>
        </table>
        <pagination-controls id="Vehículo" maxSize="3" directionLinks="true" autoHide="true" responsive="true"
          previousLabel="Atrás" nextLabel="Siguiente" screenReaderPaginationLabel="Pagination"
          screenReaderPageLabel="page" screenReaderCurrentLabel="You're on page"
          (pageBoundsCorrection)="paginationDataVehiculo.currentPage = $event"
          (pageChange)="paginationDataVehiculo.currentPage = $event"></pagination-controls>

        <div *ngIf="!vehiculos || vehiculos.length < 1" role="alert" class="alert alert-dismissible fade show"
          [class.alert-danger]="searchTextVehiculo == ''" [class.alert-warning]="searchTextVehiculo != ''">
          <button type="button" data-dismiss="alert" aria-label="Close" class="close">
            <span aria-hidden="true">×</span>
          </button>
          <span *ngIf="searchTextVehiculo != ''">
            <strong>Sin Resultados!</strong> Al parecer la Busqueda no ha devuelto ningún resultado
          </span>
          <span *ngIf="searchTextVehiculo == ''">
            <strong>Sin Vehículos!</strong> Al parecer no se han Registrado Empleados en el Sistema o hubo un Error en
            el Servidor
          </span>
        </div>
      </div>
      <div class="modal-footer">
        <div class="col-12">

          <button class="btn btn-danger pull-right" data-dismiss="modal" aria-label="Close">
            <i class="fa fa-times"></i>
            &nbsp;
            Cerrar
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="confirm-modal" tabindex="-1" role="dialog" aria-labelledby="modal-info-label">
  <div class="modal-dialog " role="document">
    <div class="modal-content">
      <div class="modal-header state modal-info">
        <h4 class="modal-title" id="modal-info-label">
          <i class="fa fa-question"></i> Confirmación de Ingreso
        </h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
            aria-hidden="true">×</span></button>
      </div>
      <div class="modal-body">
        <h4>¿Está seguro de que desea Guardar este Salvo Conducto?</h4>
        <small class="text-danger">*Una vez ingresado al sistema no sera posible editar o cambiar los datos
          ingresados.</small>
      </div>
      <div class="modal-footer">
        <div class="col-12">
          <button class="btn btn-success pull-left" (click)="onSubmit()" data-dismiss="modal" aria-label="Close">
            <i class="fa fa-save"></i>
            Guardar
          </button>
          <button class="btn btn-danger pull-right" data-dismiss="modal" aria-label="Close">
            <i class="fa fa-times"></i>
            Cancelar
          </button>
        </div>
        <!-- <button type="button" class="btn btn-danger" data-dismiss="modal">Cerrar</button> -->
      </div>
    </div>
  </div>
</div>